\hypertarget{classPyramidSwarm}{
\section{PyramidSwarm Class Reference}
\label{classPyramidSwarm}\index{PyramidSwarm@{PyramidSwarm}}
}
The \hyperlink{classPyramidSwarm}{PyramidSwarm} implements the hierarchical version of \hyperlink{classSwarm}{Swarm}.  


{\tt \#include $<$swarm.h$>$}

Inheritance diagram for PyramidSwarm:Collaboration diagram for PyramidSwarm:\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
\hyperlink{classPyramidSwarm_300ed83e7f46ecf8895d5ab8a0bb7ad8}{PyramidSwarm} (\hyperlink{classPSO}{PSO} $\ast$pso\_\-p, int \hyperlink{runpso_8cpp_439227feff9d7f55384e8780cfc2eb82}{size}, int \hyperlink{runpso_8cpp_70b5e28b5bc3d1b63a7435c5fe50b837}{dim}, double \hyperlink{classSwarm_b504e23c39413573e3685a88435f5f85}{min\_\-x}, double \hyperlink{classSwarm_e5075d21be96c1cdf441bc2b612177c1}{max\_\-x}, double \hyperlink{classSwarm_160c79397ea811636e17c0e4d6297729}{min\_\-v}, double \hyperlink{classSwarm_2b0dbde2c275f991580a07a745cb5ade}{max\_\-v}, int \hyperlink{classPyramidSwarm_147496f1f506ee3f2e82cadc9c235baf}{height}, int \hyperlink{classPyramidSwarm_b60c66cd8c7437c9b9abb2016a65e824}{branches}, int \hyperlink{classPyramidSwarm_b45f85f201faea37d41695fe4d3cae04}{swapDelay}, int nrScouts\_\-in=0)
\begin{CompactList}\small\item\em Constructor for H-PSO, setting up the swarm and arranging it in a pyramid shape. \item\end{CompactList}\item 
\hyperlink{classPyramidSwarm_bf3027f08a160137dc7d8a12727a28eb}{$\sim$PyramidSwarm} ()
\begin{CompactList}\small\item\em The allocated ressources are freed. \item\end{CompactList}\item 
int \hyperlink{classPyramidSwarm_9372ad747da64c8f3fd904da02c36d41}{getBranches} ()
\begin{CompactList}\small\item\em Return the branch degree. \item\end{CompactList}\item 
int \hyperlink{classPyramidSwarm_651f505aa4513559e87f2481ea259443}{getActualHeight} ()
\begin{CompactList}\small\item\em Returns the height including possibly added extra nodes for irregular pyramid. \item\end{CompactList}\item 
int \hyperlink{classPyramidSwarm_a9a21f0581b43dc3549fee12d6f2229e}{step} (int \hyperlink{runpso_8cpp_b4ae7205573977222eadd0795db193e2}{steps}=1)
\begin{CompactList}\small\item\em The pyramidswarm does \hyperlink{runpso_8cpp_b4ae7205573977222eadd0795db193e2}{steps} steps. \item\end{CompactList}\item 
void \hyperlink{classPyramidSwarm_85ec37731cf16f817ae7523e890a267e}{printSwarm} ()
\begin{CompactList}\small\item\em Overwrite \hyperlink{classSwarm_3e480dd422f3babe42d22d5af097c2ba}{Swarm::printSwarm()}. \item\end{CompactList}\item 
void \hyperlink{classPyramidSwarm_6c186db55b8f8b65b5a598c6a45ae72e}{printPyramid} ()
\begin{CompactList}\small\item\em Formatted output of the pyramid. \item\end{CompactList}\item 
void \hyperlink{classPyramidSwarm_c6d4a660c91549b01bb868f29a3570a9}{swap} (\hyperlink{classtree}{tree}$<$ \hyperlink{structBirdContainer}{BirdContainer} $>$::iterator it1, \hyperlink{classtree}{tree}$<$ \hyperlink{structBirdContainer}{BirdContainer} $>$::iterator it2)
\begin{CompactList}\small\item\em Two nodes of the pyramid are swapped. \item\end{CompactList}\item 
int \hyperlink{classPyramidSwarm_756af67d13a153ab3d2581673733b474}{getPyramidLevelBird} (int bird\_\-i)
\begin{CompactList}\small\item\em Returns the pyramid level that bird\_\-i is on. \item\end{CompactList}\item 
int \hyperlink{classPyramidSwarm_c88d70f33dee3ffa27d63e2877c8a8ad}{getPyramidSubtreeBird} (int bird\_\-i)
\begin{CompactList}\small\item\em Returns the pyramid subtree that bird\_\-i is on. \item\end{CompactList}\item 
int \hyperlink{classPyramidSwarm_19babda715f51c14151187e83eb39627}{getPyramidSubswarmBird} (int bird\_\-i)
\begin{CompactList}\small\item\em Returns the pyramid subswarm that bird\_\-i is on. \item\end{CompactList}\item 
double \hyperlink{classPyramidSwarm_d8028bde5aa6ba3440350e3c6cca959f}{getAverageDiversitySubtree} (int subtreeNr)
\item 
double \hyperlink{classPyramidSwarm_d27c02e0ea3cad1e6ec3303bc64958e0}{getMedianDiversitySubtree} (int subtreeNr)
\end{CompactItemize}
\subsection*{Protected Member Functions}
\begin{CompactItemize}
\item 
void \hyperlink{classPyramidSwarm_23f4681fcd5ba0151ee4abc7c0143889}{createPyramid} ()
\begin{CompactList}\small\item\em The already created birds (\hyperlink{classSwarm_1ba247983a6f20d0e835c696748a530b}{Swarm::createSwarm}) are put into the pyramid hierarchy. \item\end{CompactList}\item 
void \hyperlink{classPyramidSwarm_cd664c6c7399497eeb45aeade60835ab}{hierarchicalCompare} ()
\begin{CompactList}\small\item\em According to the pyramid hierarchy the birds are compared and swapped. \item\end{CompactList}\item 
void \hyperlink{classPyramidSwarm_4f43e6459e6fede3785780facb4c5e1f}{updateVel} ()
\begin{CompactList}\small\item\em The velocities of the birds are updated. \item\end{CompactList}\item 
void \hyperlink{classPyramidSwarm_08b947b4263eb221c30271fe54f6ae33}{updateBirdContainerLevels} ()
\begin{CompactList}\small\item\em The levels of the BirdContainers in \hyperlink{classPyramidSwarm_d61fc84d8f5bdb25d1e008e181f695bb}{birdContainerLevels} is updated. \item\end{CompactList}\item 
void \hyperlink{classPyramidSwarm_41331a3f455fcbd596989f79715b1b8b}{calculateDiversitySubtree} ()
\begin{CompactList}\small\item\em Calculate the diversity for the individual subtrees. \item\end{CompactList}\item 
void \hyperlink{classPyramidSwarm_113cc1a3ee99a45c346fd3018a20ea7b}{updateMeanPositionSubtree} (int subtreeNr, set$<$ int $>$ randomSet)
\begin{CompactList}\small\item\em Determine the current mean position of the subtree or the given randomSet. \item\end{CompactList}\item 
void \hyperlink{classPyramidSwarm_a33082c7cb70dd7bf2e33f97c4c69e01}{removeBirdContainerLevelsEntry} (int index)
\begin{CompactList}\small\item\em update the BirdContainer$\ast$ maps \item\end{CompactList}\end{CompactItemize}
\subsection*{Protected Attributes}
\begin{CompactItemize}
\item 
int \hyperlink{classPyramidSwarm_99413b13720853105b55ee3c340f7e54}{currentHeight}
\begin{CompactList}\small\item\em The height of the pyramid. \item\end{CompactList}\item 
bool \hyperlink{classPyramidSwarm_e041e1a1e5cd917273c713186d8f3b99}{swapEnabled}
\begin{CompactList}\small\item\em Controls whether in the current step a swap is allowed. \item\end{CompactList}\item 
int \hyperlink{classPyramidSwarm_b45f85f201faea37d41695fe4d3cae04}{swapDelay}
\begin{CompactList}\small\item\em A swap is only allowed every swapDelay steps. \item\end{CompactList}\item 
int \hyperlink{classPyramidSwarm_b60c66cd8c7437c9b9abb2016a65e824}{branches}
\begin{CompactList}\small\item\em The number of children per node. \item\end{CompactList}\item 
int \hyperlink{classPyramidSwarm_147496f1f506ee3f2e82cadc9c235baf}{height}
\begin{CompactList}\small\item\em The number of levels of the pyramid. \item\end{CompactList}\item 
bool \hyperlink{classPyramidSwarm_5e4c75c3e9a876d96c6a0ae4b32492d5}{regularPyramid}
\begin{CompactList}\small\item\em Whether the pyramid shape is regular. \item\end{CompactList}\item 
\hyperlink{classtree}{tree}$<$ \hyperlink{structBirdContainer}{BirdContainer} $>$ \hyperlink{classPyramidSwarm_5d0a3d52d9ae04a4d1542e7977b6464d}{pyramid}
\begin{CompactList}\small\item\em The main data structure for \hyperlink{classPyramidSwarm}{PyramidSwarm} operations. \item\end{CompactList}\item 
map$<$ int, int $>$ \hyperlink{classPyramidSwarm_d61fc84d8f5bdb25d1e008e181f695bb}{birdContainerLevels}
\begin{CompactList}\small\item\em The levels of the different BirdContainers in the pyramid. \item\end{CompactList}\item 
map$<$ int, int $>$ \hyperlink{classPyramidSwarm_83d8908955ebd7310ec71678312b3948}{birdContainerSubtree}
\begin{CompactList}\small\item\em The subtree of the different BirdContainers in the pyramid. \item\end{CompactList}\item 
map$<$ int, int $>$ \hyperlink{classPyramidSwarm_5e30f75b1ffdf42ce0d17b6473df1e16}{birdContainerSubswarm}
\begin{CompactList}\small\item\em The subswarms of the different BirdContainers in the pyramid. \item\end{CompactList}\item 
vector$<$ double $>$ \hyperlink{classPyramidSwarm_a9e6c7b093b4043e6f918e137c77e6de}{meanPositionSubtree}
\begin{CompactList}\small\item\em The current mean position of the swarm of a single subtree. \item\end{CompactList}\item 
double $\ast$ \hyperlink{classPyramidSwarm_09297866e64a19ada0b4898c69bbbd3a}{averageDiversitySubtree}
\begin{CompactList}\small\item\em Array of the current average distance to the mean position per subtree. \item\end{CompactList}\item 
double $\ast$ \hyperlink{classPyramidSwarm_309cbc58b3d57d9d0938b29f9c6a3370}{medianDiversitySubtree}
\begin{CompactList}\small\item\em Array of the current median distance to the mean position per subtree. \item\end{CompactList}\item 
deque$<$ int $>$ \hyperlink{classPyramidSwarm_6f8b00d4901f590cb7cc0fe78da593dc}{extraNodesList}
\begin{CompactList}\small\item\em If the pyramid to be built is not regular (heights, branches != swarmsize). \item\end{CompactList}\item 
vector$<$ int $>$ \hyperlink{classPyramidSwarm_73623ddb46a59321d00049c3ae64c459}{gbestFromSubtreeTick}
\begin{CompactList}\small\item\em The last time tick, gbest came from subtree i. \item\end{CompactList}\end{CompactItemize}


\subsection{Detailed Description}
The \hyperlink{classPyramidSwarm}{PyramidSwarm} implements the hierarchical version of \hyperlink{classSwarm}{Swarm}. 

The birds are arranged pyramid-like, with the globalbest bird on top. After the evaluation of the current position birds within a N(x) neighbourhood are compared and the best one moves towards the top one level.\par
 Irregular structures (height, branches) are built by distributing the remaining nodes at the bottom level of the pyramid 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classPyramidSwarm_300ed83e7f46ecf8895d5ab8a0bb7ad8}{
\index{PyramidSwarm@{PyramidSwarm}!PyramidSwarm@{PyramidSwarm}}
\index{PyramidSwarm@{PyramidSwarm}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}PyramidSwarm::PyramidSwarm ({\bf PSO} $\ast$ {\em pso\_\-p}, \/  int {\em size}, \/  int {\em dim}, \/  double {\em min\_\-x}, \/  double {\em max\_\-x}, \/  double {\em min\_\-v}, \/  double {\em max\_\-v}, \/  int {\em height}, \/  int {\em branches}, \/  int {\em swapDelay}, \/  int {\em nrScouts\_\-in} = {\tt 0})}}
\label{classPyramidSwarm_300ed83e7f46ecf8895d5ab8a0bb7ad8}


Constructor for H-PSO, setting up the swarm and arranging it in a pyramid shape. 

\begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
pso\_\-p}]The \hyperlink{classPSO}{PSO} Algorithm for the parameters used \item[{\em 
size}]The number of birds to create \item[{\em 
dim}]The dimension of the search space, i.e. the function to be optimized \item[{\em 
min\_\-x}]Lower bound of x dimension, x0 chosen randomly \item[{\em 
max\_\-x}]Upper bound of x dimension, x0 chosen randomly \item[{\em 
min\_\-v}]Lower bound of v dimension, v0 chosen randomly \item[{\em 
max\_\-v}]Upper bound of v dimension, v0 chosen randomly \item[{\em 
height}]The height (levels) of the pyramid \item[{\em 
branches}]How many successors there are on the level below \item[{\em 
swapDelay}]A swap is only allowed every swapDelay steps \item[{\em 
nrScouts\_\-in}]The number of additional scouts, default = 0 \end{description}
\end{Desc}
\hypertarget{classPyramidSwarm_bf3027f08a160137dc7d8a12727a28eb}{
\index{PyramidSwarm@{PyramidSwarm}!$\sim$PyramidSwarm@{$\sim$PyramidSwarm}}
\index{$\sim$PyramidSwarm@{$\sim$PyramidSwarm}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}PyramidSwarm::$\sim$PyramidSwarm ()}}
\label{classPyramidSwarm_bf3027f08a160137dc7d8a12727a28eb}


The allocated ressources are freed. 



\subsection{Member Function Documentation}
\hypertarget{classPyramidSwarm_9372ad747da64c8f3fd904da02c36d41}{
\index{PyramidSwarm@{PyramidSwarm}!getBranches@{getBranches}}
\index{getBranches@{getBranches}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int PyramidSwarm::getBranches ()\hspace{0.3cm}{\tt  \mbox{[}inline, virtual\mbox{]}}}}
\label{classPyramidSwarm_9372ad747da64c8f3fd904da02c36d41}


Return the branch degree. 

The current branch degree for \hyperlink{classAdaptivePyramidSwarm}{AdaptivePyramidSwarm} 

Reimplemented from \hyperlink{classSwarm_c248592977868472b6874016ad273dbb}{Swarm}.\hypertarget{classPyramidSwarm_651f505aa4513559e87f2481ea259443}{
\index{PyramidSwarm@{PyramidSwarm}!getActualHeight@{getActualHeight}}
\index{getActualHeight@{getActualHeight}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int PyramidSwarm::getActualHeight ()\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{classPyramidSwarm_651f505aa4513559e87f2481ea259443}


Returns the height including possibly added extra nodes for irregular pyramid. 



Reimplemented from \hyperlink{classSwarm_73a690fe6e3d6550098dc8ffc2f977c2}{Swarm}.\hypertarget{classPyramidSwarm_a9a21f0581b43dc3549fee12d6f2229e}{
\index{PyramidSwarm@{PyramidSwarm}!step@{step}}
\index{step@{step}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int PyramidSwarm::step (int {\em steps} = {\tt 1})\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{classPyramidSwarm_a9a21f0581b43dc3549fee12d6f2229e}


The pyramidswarm does \hyperlink{runpso_8cpp_b4ae7205573977222eadd0795db193e2}{steps} steps. 

Within one iteration the following actions are done for all the birds.\par
 The current position is evaluated, within each neighbourhood the iteration best bird is determined and compared to the bird above, the arrangment is adjusted - the best bird per neighbourhood moves up one level, the current velocity is adjusted to the global best bird and the birds are moved. 

Reimplemented from \hyperlink{classSwarm_7ab61f9797ce80e2edfb2bd881d7147c}{Swarm}.

Reimplemented in \hyperlink{classDynamicPyramidSwarm_ffcde6a425fd052c0bd5a65124a204a1}{DynamicPyramidSwarm}, and \hyperlink{classAdaptivePyramidSwarm_0d2d0278504ad096f288d8efe5dbf360}{AdaptivePyramidSwarm}.\hypertarget{classPyramidSwarm_85ec37731cf16f817ae7523e890a267e}{
\index{PyramidSwarm@{PyramidSwarm}!printSwarm@{printSwarm}}
\index{printSwarm@{printSwarm}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void PyramidSwarm::printSwarm ()\hspace{0.3cm}{\tt  \mbox{[}inline, virtual\mbox{]}}}}
\label{classPyramidSwarm_85ec37731cf16f817ae7523e890a267e}


Overwrite \hyperlink{classSwarm_3e480dd422f3babe42d22d5af097c2ba}{Swarm::printSwarm()}. 



Reimplemented from \hyperlink{classSwarm_3e480dd422f3babe42d22d5af097c2ba}{Swarm}.\hypertarget{classPyramidSwarm_6c186db55b8f8b65b5a598c6a45ae72e}{
\index{PyramidSwarm@{PyramidSwarm}!printPyramid@{printPyramid}}
\index{printPyramid@{printPyramid}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void PyramidSwarm::printPyramid ()}}
\label{classPyramidSwarm_6c186db55b8f8b65b5a598c6a45ae72e}


Formatted output of the pyramid. 

\hypertarget{classPyramidSwarm_c6d4a660c91549b01bb868f29a3570a9}{
\index{PyramidSwarm@{PyramidSwarm}!swap@{swap}}
\index{swap@{swap}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void PyramidSwarm::swap ({\bf tree}$<$ {\bf BirdContainer} $>$::iterator {\em it1}, \/  {\bf tree}$<$ {\bf BirdContainer} $>$::iterator {\em it2})}}
\label{classPyramidSwarm_c6d4a660c91549b01bb868f29a3570a9}


Two nodes of the pyramid are swapped. 

\hypertarget{classPyramidSwarm_756af67d13a153ab3d2581673733b474}{
\index{PyramidSwarm@{PyramidSwarm}!getPyramidLevelBird@{getPyramidLevelBird}}
\index{getPyramidLevelBird@{getPyramidLevelBird}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int PyramidSwarm::getPyramidLevelBird (int {\em bird\_\-i})\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{classPyramidSwarm_756af67d13a153ab3d2581673733b474}


Returns the pyramid level that bird\_\-i is on. 

Actually birdcontainer\_\-i is used, but since the indexing of birds and birdcontainers is done alike, it is the same. 

Reimplemented from \hyperlink{classSwarm_98b6b325d8caffbc62010f80a229ad6c}{Swarm}.\hypertarget{classPyramidSwarm_c88d70f33dee3ffa27d63e2877c8a8ad}{
\index{PyramidSwarm@{PyramidSwarm}!getPyramidSubtreeBird@{getPyramidSubtreeBird}}
\index{getPyramidSubtreeBird@{getPyramidSubtreeBird}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int PyramidSwarm::getPyramidSubtreeBird (int {\em bird\_\-i})\hspace{0.3cm}{\tt  \mbox{[}virtual\mbox{]}}}}
\label{classPyramidSwarm_c88d70f33dee3ffa27d63e2877c8a8ad}


Returns the pyramid subtree that bird\_\-i is on. 

Actually birdcontainer\_\-i is used, but since the indexing of birds and birdcontainers is done alike, it is the same. 

Reimplemented from \hyperlink{classSwarm_c2cd792ce6be2f833f9a37377e1e0885}{Swarm}.\hypertarget{classPyramidSwarm_19babda715f51c14151187e83eb39627}{
\index{PyramidSwarm@{PyramidSwarm}!getPyramidSubswarmBird@{getPyramidSubswarmBird}}
\index{getPyramidSubswarmBird@{getPyramidSubswarmBird}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int PyramidSwarm::getPyramidSubswarmBird (int {\em bird\_\-i})}}
\label{classPyramidSwarm_19babda715f51c14151187e83eb39627}


Returns the pyramid subswarm that bird\_\-i is on. 

Subswarms defined below division depth.\par
 Actually birdcontainer\_\-i is used, but since the indexing of birds and birdcontainers is done alike, it is the same. \hypertarget{classPyramidSwarm_d8028bde5aa6ba3440350e3c6cca959f}{
\index{PyramidSwarm@{PyramidSwarm}!getAverageDiversitySubtree@{getAverageDiversitySubtree}}
\index{getAverageDiversitySubtree@{getAverageDiversitySubtree}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}double PyramidSwarm::getAverageDiversitySubtree (int {\em subtreeNr})\hspace{0.3cm}{\tt  \mbox{[}inline, virtual\mbox{]}}}}
\label{classPyramidSwarm_d8028bde5aa6ba3440350e3c6cca959f}




Reimplemented from \hyperlink{classSwarm_71dc0d0753bfea580e841234b9c63ebc}{Swarm}.\hypertarget{classPyramidSwarm_d27c02e0ea3cad1e6ec3303bc64958e0}{
\index{PyramidSwarm@{PyramidSwarm}!getMedianDiversitySubtree@{getMedianDiversitySubtree}}
\index{getMedianDiversitySubtree@{getMedianDiversitySubtree}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}double PyramidSwarm::getMedianDiversitySubtree (int {\em subtreeNr})\hspace{0.3cm}{\tt  \mbox{[}inline, virtual\mbox{]}}}}
\label{classPyramidSwarm_d27c02e0ea3cad1e6ec3303bc64958e0}




Reimplemented from \hyperlink{classSwarm_4f31a2aeda867e79eab25b1a108f1c6f}{Swarm}.\hypertarget{classPyramidSwarm_23f4681fcd5ba0151ee4abc7c0143889}{
\index{PyramidSwarm@{PyramidSwarm}!createPyramid@{createPyramid}}
\index{createPyramid@{createPyramid}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void PyramidSwarm::createPyramid ()\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_23f4681fcd5ba0151ee4abc7c0143889}


The already created birds (\hyperlink{classSwarm_1ba247983a6f20d0e835c696748a530b}{Swarm::createSwarm}) are put into the pyramid hierarchy. 

Called by the constructor \hypertarget{classPyramidSwarm_cd664c6c7399497eeb45aeade60835ab}{
\index{PyramidSwarm@{PyramidSwarm}!hierarchicalCompare@{hierarchicalCompare}}
\index{hierarchicalCompare@{hierarchicalCompare}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void PyramidSwarm::hierarchicalCompare ()\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_cd664c6c7399497eeb45aeade60835ab}


According to the pyramid hierarchy the birds are compared and swapped. 

Each bird is compared to its direct children and is swapped with the best sibling, if this one is better than the upper level node. 

reset the reEvaluated state (used for noisy functions) \hypertarget{classPyramidSwarm_4f43e6459e6fede3785780facb4c5e1f}{
\index{PyramidSwarm@{PyramidSwarm}!updateVel@{updateVel}}
\index{updateVel@{updateVel}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void PyramidSwarm::updateVel ()\hspace{0.3cm}{\tt  \mbox{[}protected, virtual\mbox{]}}}}
\label{classPyramidSwarm_4f43e6459e6fede3785780facb4c5e1f}


The velocities of the birds are updated. 

The children of each node update their velocity with their parent node as global best. 

Reimplemented from \hyperlink{classSwarm_be668c680f5bdd27bd2c4244a8a431bf}{Swarm}.\hypertarget{classPyramidSwarm_08b947b4263eb221c30271fe54f6ae33}{
\index{PyramidSwarm@{PyramidSwarm}!updateBirdContainerLevels@{updateBirdContainerLevels}}
\index{updateBirdContainerLevels@{updateBirdContainerLevels}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void PyramidSwarm::updateBirdContainerLevels ()\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_08b947b4263eb221c30271fe54f6ae33}


The levels of the BirdContainers in \hyperlink{classPyramidSwarm_d61fc84d8f5bdb25d1e008e181f695bb}{birdContainerLevels} is updated. 

Also for each bird the subswarm -- branch below the root -- and the subtree -- hierarchy divided in half, which section of the hierarchy. The root subtree is index 0, and the other subtrees start at division depth. used for \hyperlink{classDynamicPyramidSwarm}{DynamicPyramidSwarm} \hypertarget{classPyramidSwarm_41331a3f455fcbd596989f79715b1b8b}{
\index{PyramidSwarm@{PyramidSwarm}!calculateDiversitySubtree@{calculateDiversitySubtree}}
\index{calculateDiversitySubtree@{calculateDiversitySubtree}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void PyramidSwarm::calculateDiversitySubtree ()\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_41331a3f455fcbd596989f79715b1b8b}


Calculate the diversity for the individual subtrees. 

The average and median distance to the subtree's mean position are calculated \hypertarget{classPyramidSwarm_113cc1a3ee99a45c346fd3018a20ea7b}{
\index{PyramidSwarm@{PyramidSwarm}!updateMeanPositionSubtree@{updateMeanPositionSubtree}}
\index{updateMeanPositionSubtree@{updateMeanPositionSubtree}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void PyramidSwarm::updateMeanPositionSubtree (int {\em subtreeNr}, \/  set$<$ int $>$ {\em randomSet})\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_113cc1a3ee99a45c346fd3018a20ea7b}


Determine the current mean position of the subtree or the given randomSet. 

All the birds of the subtree current positions are averaged. For a random set of birds subtreeNr = -1 is passed \hypertarget{classPyramidSwarm_a33082c7cb70dd7bf2e33f97c4c69e01}{
\index{PyramidSwarm@{PyramidSwarm}!removeBirdContainerLevelsEntry@{removeBirdContainerLevelsEntry}}
\index{removeBirdContainerLevelsEntry@{removeBirdContainerLevelsEntry}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void PyramidSwarm::removeBirdContainerLevelsEntry (int {\em index})\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_a33082c7cb70dd7bf2e33f97c4c69e01}


update the BirdContainer$\ast$ maps 

The specified element is removed from the maps to keep it consistent. 

\subsection{Field Documentation}
\hypertarget{classPyramidSwarm_99413b13720853105b55ee3c340f7e54}{
\index{PyramidSwarm@{PyramidSwarm}!currentHeight@{currentHeight}}
\index{currentHeight@{currentHeight}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf PyramidSwarm::currentHeight}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_99413b13720853105b55ee3c340f7e54}


The height of the pyramid. 

May differ from height for irregular pyramids, where an extra level is added for the extra nodes. Or for an \hyperlink{classAdaptivePyramidSwarm}{AdaptivePyramidSwarm}, where the hierarchy is changed. \hypertarget{classPyramidSwarm_e041e1a1e5cd917273c713186d8f3b99}{
\index{PyramidSwarm@{PyramidSwarm}!swapEnabled@{swapEnabled}}
\index{swapEnabled@{swapEnabled}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool {\bf PyramidSwarm::swapEnabled}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_e041e1a1e5cd917273c713186d8f3b99}


Controls whether in the current step a swap is allowed. 

\hypertarget{classPyramidSwarm_b45f85f201faea37d41695fe4d3cae04}{
\index{PyramidSwarm@{PyramidSwarm}!swapDelay@{swapDelay}}
\index{swapDelay@{swapDelay}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf PyramidSwarm::swapDelay}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_b45f85f201faea37d41695fe4d3cae04}


A swap is only allowed every swapDelay steps. 

\hypertarget{classPyramidSwarm_b60c66cd8c7437c9b9abb2016a65e824}{
\index{PyramidSwarm@{PyramidSwarm}!branches@{branches}}
\index{branches@{branches}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf PyramidSwarm::branches}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_b60c66cd8c7437c9b9abb2016a65e824}


The number of children per node. 

\hypertarget{classPyramidSwarm_147496f1f506ee3f2e82cadc9c235baf}{
\index{PyramidSwarm@{PyramidSwarm}!height@{height}}
\index{height@{height}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf PyramidSwarm::height}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_147496f1f506ee3f2e82cadc9c235baf}


The number of levels of the pyramid. 

The possible extra level for irregular pyramids excluded \hypertarget{classPyramidSwarm_5e4c75c3e9a876d96c6a0ae4b32492d5}{
\index{PyramidSwarm@{PyramidSwarm}!regularPyramid@{regularPyramid}}
\index{regularPyramid@{regularPyramid}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool {\bf PyramidSwarm::regularPyramid}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_5e4c75c3e9a876d96c6a0ae4b32492d5}


Whether the pyramid shape is regular. 

\hypertarget{classPyramidSwarm_5d0a3d52d9ae04a4d1542e7977b6464d}{
\index{PyramidSwarm@{PyramidSwarm}!pyramid@{pyramid}}
\index{pyramid@{pyramid}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf tree}$<${\bf BirdContainer}$>$ {\bf PyramidSwarm::pyramid}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_5d0a3d52d9ae04a4d1542e7977b6464d}


The main data structure for \hyperlink{classPyramidSwarm}{PyramidSwarm} operations. 

The bird pointers are still stored in the \hyperlink{classSwarm_74191c7a473df093f5537f8d6d5ca1a6}{birds} vector. In the pyramid data structure the container objects with pointers to the birds are moved. \hypertarget{classPyramidSwarm_d61fc84d8f5bdb25d1e008e181f695bb}{
\index{PyramidSwarm@{PyramidSwarm}!birdContainerLevels@{birdContainerLevels}}
\index{birdContainerLevels@{birdContainerLevels}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}map$<$int, int$>$ {\bf PyramidSwarm::birdContainerLevels}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_d61fc84d8f5bdb25d1e008e181f695bb}


The levels of the different BirdContainers in the pyramid. 

The map is accessed by the index of a specific bird. \hypertarget{classPyramidSwarm_83d8908955ebd7310ec71678312b3948}{
\index{PyramidSwarm@{PyramidSwarm}!birdContainerSubtree@{birdContainerSubtree}}
\index{birdContainerSubtree@{birdContainerSubtree}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}map$<$int, int$>$ {\bf PyramidSwarm::birdContainerSubtree}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_83d8908955ebd7310ec71678312b3948}


The subtree of the different BirdContainers in the pyramid. 

\hypertarget{classPyramidSwarm_5e30f75b1ffdf42ce0d17b6473df1e16}{
\index{PyramidSwarm@{PyramidSwarm}!birdContainerSubswarm@{birdContainerSubswarm}}
\index{birdContainerSubswarm@{birdContainerSubswarm}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}map$<$int, int$>$ {\bf PyramidSwarm::birdContainerSubswarm}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_5e30f75b1ffdf42ce0d17b6473df1e16}


The subswarms of the different BirdContainers in the pyramid. 

The map is accessed by the index of a specific bird.used in \hyperlink{classDynamicPyramidSwarm}{DynamicPyramidSwarm}\par
 The map is accessed by the index of a specific bird. \hypertarget{classPyramidSwarm_a9e6c7b093b4043e6f918e137c77e6de}{
\index{PyramidSwarm@{PyramidSwarm}!meanPositionSubtree@{meanPositionSubtree}}
\index{meanPositionSubtree@{meanPositionSubtree}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}vector$<$double$>$ {\bf PyramidSwarm::meanPositionSubtree}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_a9e6c7b093b4043e6f918e137c77e6de}


The current mean position of the swarm of a single subtree. 

The subtrees are iterated and before each evaluation \hyperlink{classPyramidSwarm_113cc1a3ee99a45c346fd3018a20ea7b}{PyramidSwarm::updateMeanPositionSubtree} is called. \hypertarget{classPyramidSwarm_09297866e64a19ada0b4898c69bbbd3a}{
\index{PyramidSwarm@{PyramidSwarm}!averageDiversitySubtree@{averageDiversitySubtree}}
\index{averageDiversitySubtree@{averageDiversitySubtree}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}double$\ast$ {\bf PyramidSwarm::averageDiversitySubtree}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_09297866e64a19ada0b4898c69bbbd3a}


Array of the current average distance to the mean position per subtree. 

\hypertarget{classPyramidSwarm_309cbc58b3d57d9d0938b29f9c6a3370}{
\index{PyramidSwarm@{PyramidSwarm}!medianDiversitySubtree@{medianDiversitySubtree}}
\index{medianDiversitySubtree@{medianDiversitySubtree}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}double$\ast$ {\bf PyramidSwarm::medianDiversitySubtree}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_309cbc58b3d57d9d0938b29f9c6a3370}


Array of the current median distance to the mean position per subtree. 

\hypertarget{classPyramidSwarm_6f8b00d4901f590cb7cc0fe78da593dc}{
\index{PyramidSwarm@{PyramidSwarm}!extraNodesList@{extraNodesList}}
\index{extraNodesList@{extraNodesList}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}deque$<$int$>$ {\bf PyramidSwarm::extraNodesList}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_6f8b00d4901f590cb7cc0fe78da593dc}


If the pyramid to be built is not regular (heights, branches != swarmsize). 

The number of extra nodes to be added to the lowest level is given. The list of numbers is computed in \hyperlink{classPyramidSwarm_300ed83e7f46ecf8895d5ab8a0bb7ad8}{PyramidSwarm::PyramidSwarm} \hypertarget{classPyramidSwarm_73623ddb46a59321d00049c3ae64c459}{
\index{PyramidSwarm@{PyramidSwarm}!gbestFromSubtreeTick@{gbestFromSubtreeTick}}
\index{gbestFromSubtreeTick@{gbestFromSubtreeTick}!PyramidSwarm@{PyramidSwarm}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}vector$<$int$>$ {\bf PyramidSwarm::gbestFromSubtreeTick}\hspace{0.3cm}{\tt  \mbox{[}protected\mbox{]}}}}
\label{classPyramidSwarm_73623ddb46a59321d00049c3ae64c459}


The last time tick, gbest came from subtree i. 

The vector is initialized with branches entries and updated if subtrees are added or removed. If a change to the hierarchy occurs, all of the entries are reset to the current clock tick. 

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
/home/andrej/workspace/hpso/pso\_\-src/\hyperlink{swarm_8h}{swarm.h}\item 
/home/andrej/workspace/hpso/pso\_\-src/\hyperlink{swarm_8cpp}{swarm.cpp}\end{CompactItemize}
